<h2 class="title fs-2">Отримати дані про запит в підтримку</h2>

<form   [formGroup]="getForm" (ngSubmit)="sendRequest()">
  <div class="form-fields-container">
    <label class="form-field">
      <span class="field-label">Статус запита:</span>
      <select class="select" formControlName="status">
        <option value="'Відкритий'">Відкритий</option>
        <option value="'Закритий'">Закритий</option>
        <option value="'Надано відповідь'">Надано відповідь</option>
        <option value="'Відповідь клієнта'">Відповідь клієнта</option>
        <option value="'В процесі'">В процесі</option>
      </select>
    </label>

    <label class="form-field">
      <span class="field-label">Критерій пошуку:</span>
      <select class="select" formControlName="key">
        <option value="user_number" selected>Номер клієнта</option>
        <option value="user_name">Ім'я клієнта</option>
      </select>
    </label>
    
    <label  class="form-field">
      <span class="field-label">Значення критерія пошуку:</span>
      <input class="input" type="text" formControlName="valueOfKey">
    </label>
  </div>
  <div class="home-btn-wrapper">
    <button class="btn home-btn fs-5" type="submit">Відправити запит</button>
  </div>
</form>

<h3 *ngIf="request" class="title"> Запит надісланий на: {{request}}</h3>

<div *ngIf="amount">
  <table class="general-table">
    <thead>
      <tr>
      <th>Номер запита</th>
      <th>Виконуючий працівник</th>
      <th>Статус</th>
      <th>Номер клієнта</th>
    </tr>
    </thead>
    <tbody>
      <tr *ngFor="let item of items">
        <td>{{item.prefix}}-{{item.ticket_number}}</td>
        <td>{{item.executive_worker}}</td>
        <td>{{item.ticket_status}}</td>
        <td>{{item.client_number}}</td>
      </tr>
    </tbody>
  </table>
</div>

<div class="home-btn-wrapper">
  <button routerLink="../" class="btn home-btn fs-5">Назад</button>
</div>


